<?xml version="1.0" encoding="UTF-8"?>
<configuration status="WARN" shutdownHook="disable">
  <appenders>
    <console name="stderr" target="SYSTEM_ERR">
      <patternLayout pattern="%highlight{%d{EE HH:mm:ss.SSS} %-5level{INFO=info, DEBUG=debug, TRACE=trace} %logger %notEmpty{»%marker« }- %message}{WARN=magenta}%n"/>
    </console>
    <rollingRandomAccessFile name="file"
                             fileName="${env:SCHEDULER_LOGS}/master.log"
                             filePattern="${env:SCHEDULER_LOGS}/master-%d{yyyy-MM-dd}-%i.log.gz"
                             immediateFlush="${sys:jobscheduler.log4j.immediateFlush:-true}">
      <patternLayout pattern="%d{EE HH:mm:ss.SSS} %-5level{INFO=info, DEBUG=debug, TRACE=trace} %logger %notEmpty{»%marker« }- %message%n"
                     charset="UTF-8"/>
      <policies>
        <onStartupTriggeringPolicy/>
        <timeBasedTriggeringPolicy/>
        <sizeBasedTriggeringPolicy size="1GB"/>
      </policies>
    </rollingRandomAccessFile>
    <rollingRandomAccessFile name="weblog"
                             fileName="${env:SCHEDULER_LOGS}/web.log"
                             filePattern="${env:SCHEDULER_LOGS}/web-%d{yyyy-MM-dd}-%i.log.gz"
                             immediateFlush="${sys:jobscheduler.log4j.immediateFlush:-true}">
      <patternLayout pattern="%d{EE HH:mm:ss.SSS} %message%n"
                     charset="UTF-8"/>
      <policies>
        <onStartupTriggeringPolicy/>
        <timeBasedTriggeringPolicy/>
        <sizeBasedTriggeringPolicy size="1GB"/>
      </policies>
    </rollingRandomAccessFile>
  </appenders>
  <loggers>
    <root level="INFO">
      <appenderRef ref="stderr" level="INFO"/>
      <appenderRef ref="file"   level="DEBUG"/>
    </root>
    <logger level="DEBUG" name="Web" additivity="false">
      <appenderRef ref="weblog"/>
    </logger>
    <logger level="WARN" name="akka.event.slf4j.Slf4jLogger"/>
    <logger level="DEBUG" name="jobscheduler"/>
  </loggers>
</configuration>
